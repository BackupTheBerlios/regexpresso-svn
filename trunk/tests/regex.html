<!-- This is a test page to be used with http://jsunit.net/ -->
<html>
 <head>
  <title>Test Page for RegexPresso</title>
  <script language="javascript" src="../tools/jsunit/app/jsUnitCore.js"></script>
  <script language="javascript" src="chainedlist.js"></script>
  <script language="javascript" src="regularexpressions.js"></script>
 </head>
 <body>
  <script language="javascript">

	////////////////////////////
	// Match class testing

	// Tests inheritance mecanism
	function testMatchPrototype()
{
	var match1 = new Match();
	assertEquals( "1", Match, Match.prototype.constructor );
}

	function testMatch()
{
		// tests default values
				var match1 = new Match();
		assertUndefined( "1", match1.index );
		assertUndefined( "1.1", match1.text );
		assertEquals( "1.2", "", match1.getTextBefore() );
		assertEquals( "1.3", "", match1.getTextAfter() );
		assertEquals( "1.4", 0, match1.groups.length );

		// tests initial assignment
				var match2 = new Match(4,"matched","before","after",["one","two"]);
		assertEquals( "2", 4, match2.index );
		assertEquals( "2.1", "matched", match2.text );
		assertEquals( "2.2", "before", match2.getTextBefore() );
		assertEquals( "2.3", "after", match2.getTextAfter() );
		assertTrue( "2.4", match2.groups.length > 0 );
}

	function testMatchGetTextBeforeAfter()
{
	var match1 = new Match(null,null,"before");
	assertEquals( "1", "before", match1.getTextBefore() );

	var match2 = match1.insertAfter( new Match( null, null, "before", "after" ) );
	assertEquals( "2", "before", match2.getTextBefore() );
	assertEquals( "3", "after", match2.getTextAfter() );
	assertEquals( "3.1", match1.getTextAfter(), match2.getTextBefore() );

	var match3 = match2.insertAfter( new Match( null, null, "before height", "after height" ) );
	assertEquals( "4", match2.getTextAfter(), match3.getTextBefore() );
}

  </script>
		  </body>
		  </html> 
