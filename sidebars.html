<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="description" content="Sidebars in multiple browsers">
	<meta name="author" content="cbonar@users.berlios.de">
	<meta name="robots" content="index">
	<meta name="keywords" content="sidebar search pane panel _main_ search mozilla firefox internet explorer opera">

	<!-- embedded style since it's intended to be uploaded to BerliOS's doc manager -->
	<style type="text/css">
		/* */
		.articleinfo {}
		.date {}
		/* author reference */
		a.author { text-decoration:none; }
		div.author:before { content:"<"; }
		div.author:after { content:">"; }
		/* a name, surname, trademark, ... */
		acronym { font-weight:bold; }
		/* program source code */
		code, .code { font-family:courier; font-size:smaller; background-color:#E0E0E0; }
		var { font-weight:bold; }
		var:before, var:after { content:"\""; }
		/* multi-purpose warning : requires attention, incomplete, outdated, not accurate, ... */
		.warning { background-color:#DBFF00; }
		table.yesno th { text-align:justify; }
		table.yesno td { text-align:center; }
		.yes { background-color:#92B692; }
		.no { background-color:#DB9292; }
		.dontknown { background-color:#DBDB92; }
	</style>

	<title>Sidebars in multiple browsers</title>
</head>

<body>

	<div class="articleinfo">
		<div class="author"><a href="mailto:cbonar@users.berlios.de" class="author">cbonar@users.berlios.de</a></div>
		<div class="date">Last update : 20050304</div>
		<div class="warning">DRAFT DOCUMENT</div>
	</div>

	<hr>



	<h1>X ways to add a web page to your browser's lateral bar</h1>

	<div>
		<h2>Index</h2>

		<ul>
			<li><a href="#introduction">Introduction</a>
			<li><a href="#gecko">Gecko browsers' sidebar</a>
			<li><a href="#_search">Internet Explorer's search pane</a>
			<li><a href="#rel">Opera : the "rel" attribute</a>
			<li><a href="#summary">Summary</a>
			<li><a href="#links">Other links</a>
		</ul>
	</div>



	<div><a name="introduction"></a>

		<h2>Introduction</h2>

		<p>This is a summary of the techniques I've found to deal with some browsers' sidebars,
		while working on <acronym>RegExpresso</acronym>.
		Knowing that those lateral bars have all the same general features
		(loading a standard page, beeing bookmarked, easily shown and hidden, ...), this document
		concentrates on the different ways to add a page to those sidebars.
		</p>

	</div>



	<div><a name="gecko"></a>

		<h2>Gecko browsers' sidebar</h2>

		<p>This is called <q><acronym>My Sidebar</acronym></q>, and works for Netscape family browsers like Mozilla and Firefox.
		The general way to add a page to this sidebar is to call the API with the following Javascript snippet.
<div class="code">
<pre>&lt;SCRIPT type="Javascript"&gt;
&lt;--
   function addNetscapePanel() {
      if ((typeof window.sidebar == "object") && (typeof window.sidebar.addPanel == "function"))
      {
         window.sidebar.addPanel("My Sidebar Developer's Guide","/doca/manuals/browser/sidebar/sbtoc.html","");
      }
      else
      {
         var rv = window.confirm ("This page is enhanced for use with Netscape 6.  " + "Would you like to upgrade now?");
         if (rv)
            document.location.href = "http://home.netscape.com/download/index.html";
      }
   }
//--&gt;
&lt;/SCRIPT&gt;</pre>
</div>
		Some informations about the <code>window.sidebar.addPanel(title,URL,customize)</code> function :
			<ul>
				<li><var>title</var> is the title of the panel
				<li><var>URL</var> is the <strong>absolute</strong> URL to the page to load into the sidebar
				<li><var>customize</var> is the URL of the customization page. <em class="warning">I have no documentation for this feature.</em>
			</ul>
		</p>

		<p>Important things to know when writing a page designed to fit in this sidebar :
			<ul>
				<li>The target to the current tab/window is either <var>_content</var> or <var>_main</var>
				(the latter was introduced for compatibility with Internet Explorer).
				<li>Although the <var>document</var> object references the sidebar itself in the Javascript code,
				when it is used in "global" calls like <code>onClick</code> events,
				it references the <var>document</var> object of the current context (i.e. the current main window).
				So beware with the following code : <code>open("title",document.href,"width=240,height=240");</code>.
				If placed in an <code>onClick</code> event, for instance, it will open a new window with the main window's location,
				not the sidebar's one.
				
			</ul>
		</p>

		<p>Although this was the first sidebar mechanism as far as I know, it ends with the most tricky method beyond modern browsers.
		Note that Firefox' current behaviour (and maybe Netscape 8) is to create a bookmark that will open in the sidebar.
		<p>

		<span class="listtitle">Browsers</span>
		<ul class="compatible">
			<li>Netscape
			<li>Mozilla
			<li>Firefox
		</ul>

		<span class="listtitle">Related links</span>
		<ul class="links">
			<li><a href="http://www.mozilla.org/status/2003-08-10.html">Mozilla Firebird status update 08/10/2003</a>
			<li><a href="http://regexpresso.berlios.de/NS-sidebar.js">Javascript code to add a panel</a>
			<li><a href="http://www.softwareadjuvant.com/class/introtoxml/toolscd/disk1/EditorBrowsers/Mozilla.org/">My Sidebar Developer's Guide</a>
		</ul>

	</div>



	<div><a name="_search"></a>

		<h2>Internet Explorer's search pane</h2>

		<p>Internet Explorer has a lateral search bar that one can use to display a custom document.
		It is simply accessed with the <var>_main</var> target from a HTML document.
		So the simplest way to open a web page in this sidebar is to use an anchor with "_search" as the target.
<div class="code">
<pre>&lt;a href="mysidebar.html" target="_search"&gt;Drag this link to your bookmarks bar.
You can then click on this it to open mysidebar in the search pane.&lt/a&gt;</pre>
</div>
		From the search bar, one can access the main window using the <var>_main</var> target.
		By the way, this now works with Firefox when used in an anchor (not a call to the Javascript <code>window.open</code> method).
		Note that by clicking on such a link, the user will only open it in its search bar, not add it to its bookmarks.
		This must be done by the user himself (like for any ordinary link).
		</p>

		<p>There is also another way : by linking to a custom <tt>.reg</tt> file.
		I've tried it and it worked fine, but the user can't easily remove the bar then.
		</p>

		<span class="listtitle">Browsers</span>
		<ul class="compatible">
			<li>Internet Explorer
			<li>Firefox
		</ul>

		<span class="listtitle">Related links</span>
		<ul class="links">
			<li><a href="http://www.mozilla.org/status/2003-08-10.html">Mozilla Firebird status update 08/10/2003</a>
			<li><a href="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/target.asp">The "target" attribute in Internet Explorer</a>
			<li><span class="warning">Missing link to the <tt>.reg</tt> method</span>
		</ul>

	</div>



	<div><a name="rel"></a>

		<h2>Opera : the "rel" attribute</h2>

		<p>Opera also proposed a very simple way to add a page to its sidebar : simply add <code>rel="sidebar"</code> to an anchor.
		The <var>href</var> attribute of the anchor is the page to load as a new panel into the sidebar.
		The <var>title</var> attribute is the default title of the panel.
		This also works with Firefox (not Mozilla).
		</p>

		<span class="listtitle">Browsers</span>
		<ul class="compatible">
			<li>Opera
			<li>Firefox
		</ul>

		<span class="listtitle">Related links</span>
		<ul class="links">
			<li><a href="http://www.mozilla.org/status/2003-08-10.html">Mozilla Firebird status update 08/10/2003</a>
		</ul>

	</div>



	<div><a name="summary"></a>

		<h2>Summary</h2>

		<table class="yesno">
			<tr>
				<th></th>
				<th>Internet Explorer</th>
				<th>Opera</th>
				<th>Netscape</th>
				<th>Mozilla</th>
				<th>Firefox</th>
			</tr>
			<tr>
				<th>window.sidebar.addPanel</th>
				<td class="no">NO</td>
				<td class="no">NO</td>
				<td class="yes">YES</td>
				<td class="yes">YES</td>
				<td class="yes">YES</td>
			</tr>
			<tr>
				<th>_search target</th>
				<td class="yes">YES</td>
				<td class="no">NO</td>
				<td class="no">NO</td>
				<td class="no">NO</td>
				<td class="yes">YES, in &lt;a/&gt;</td>
			</tr>
			<tr>
				<th>rel="sidebar"</th>
				<td class="no">NO</td>
				<td class="yes">YES</td>
				<td class="no">NO</td>
				<td class="no">NO</td>
				<td class="yes">YES</td>
			</tr>
		</table>

		<p>As you can see, not a single line is matched by all browsers :(<br>
		And make no mistake : Netscape, Mozilla and Firefox are so close
		that they are most of the time taken as the same "family" of browsers,
		so the <q>window.sidebar.addPanel</q> method is not more used in fact.
		</p>

	</div>



	<div><a name="links"></a>

		<h2>Other links</h2>

		<ul>
			<li><a href="http://tntluoma.com/sidebars/">Cool page and good links, mostly for Opera</a>
			<li><a href="http://regexpresso.developer.berlios.de">RegExpresso, a sidebar based on this document</a>
			<li><a href="http://home.arcor.de/xbo/sidebar-cross-browser/">Cross-browser sidebar links</a>
			<li><span class="warning">Missing links</span>
		</ul>
	</div>

</body>

</html>
